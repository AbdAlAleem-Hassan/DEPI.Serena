@{
    ViewData["Title"] = "Choose Registration Type";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
}

<div class="auth-container">
    <div class="register-card">
        <div class="auth-header">
            <div class="auth-logo">
                <div class="logo-placeholder">S</div>
                <span class="logo-text">Serena</span>
            </div>
            <h2 class="auth-title"><span data-en="JOIN OUR HEALTHCARE COMMUNITY"
                    data-ar="انضم إلى مجتمع الرعاية الصحية لدينا">JOIN OUR HEALTHCARE COMMUNITY</span></h2>
            <p class="auth-subtitle" data-en="Choose your account type to get started" data-ar="اختر نوع حسابك للبدء">
                Choose your account type to get started
            </p>
        </div>

        <div class="registration-type-grid">
            <!-- Patient Card -->
            <div class="registration-type-card" onclick="location.href='@Url.Action("RegisterPatient")'">
                <div class="registration-icon icon-patient">
                    <i class="fas fa-user-injured"></i>
                </div>
                <h3 class="registration-type-title"><span data-en="Patient" data-ar="مريض">Patient</span></h3>
                <p class="registration-type-desc"><span
                        data-en="Book appointments, access medical records, and connect with healthcare providers from the comfort of your home."
                        data-ar="احجز المواعيد، وادخل إلى السجلات الطبية، وتواصل مع مقدمي الرعاية الصحية من منزلك.">
                        Book appointments, access medical records, and connect with healthcare providers from the
                        comfort of your home.</span>
                </p>
                <div class="feature-list">
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Book appointments online 24/7" data-ar="حجز مواعيد عبر الإنترنت 24/7">Book
                                appointments online 24/7</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Secure access to medical records" data-ar="وصول آمن للسجلات الطبية">Secure
                                access to medical records</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Connect with trusted doctors" data-ar="تواصل مع أطباء موثوقين">Connect with
                                trusted doctors</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Medication reminders & health tips"
                                data-ar="تذكير بالأدوية ونصائح صحية">Medication reminders & health tips</span></span>
                    </div>
                </div>
                <button class="card-button card-button-patient">
                    <span class="card-button-text"><span data-en="Register as Patient" data-ar="تسجيل كمريض">Register as
                            Patient</span></span>
                    <i class="fas fa-arrow-right card-button-icon"></i>
                </button>
            </div>

            <!-- Doctor Card -->
            <div class="registration-type-card" onclick="location.href='@Url.Action("RegisterDoctor")'">
                <div class="registration-icon icon-doctor">
                    <i class="fas fa-user-md"></i>
                </div>
                <h3 class="registration-type-title"><span data-en="Doctor" data-ar="طبيب">Doctor</span></h3>
                <p class="registration-type-desc"><span
                        data-en="Expand your practice, manage appointments efficiently, and provide better care with our professional tools."
                        data-ar="وسع عيادتك، وأدر المواعيد بكفاءة، وقدم رعاية أفضل باستخدام أدواتنا الاحترافية.">
                        Expand your practice, manage appointments efficiently, and provide better care with our
                        professional tools.</span>
                </p>
                <div class="feature-list">
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Smart appointment scheduling" data-ar="جدولة مواعيد ذكية">Smart appointment
                                scheduling</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Patient management system" data-ar="نظام إدارة المرضى">Patient management
                                system</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Medical tools & resources" data-ar="أدوات وموارد طبية">Medical tools &
                                resources</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Secure patient communication" data-ar="تواصل آمن مع المرضى">Secure patient
                                communication</span></span>
                    </div>
                </div>
                <button class="card-button card-button-doctor">
                    <span class="card-button-text"><span data-en="Register as Doctor" data-ar="تسجيل كطبيب">Register as
                            Doctor</span></span>
                    <i class="fas fa-arrow-right card-button-icon"></i>
                </button>
            </div>

            <!-- Hospital Card -->
            <div class="registration-type-card" onclick="location.href='@Url.Action("Admin")'">
                <div class="registration-icon icon-hospital">
                    <i class="fas fa-hospital"></i>
                </div>
                <h3 class="registration-type-title"><span data-en="Hospital" data-ar="مستشفى">Hospital</span></h3>
                <p class="registration-type-desc"><span
                        data-en="Streamline your healthcare facility operations, manage staff, and enhance patient services with our comprehensive platform."
                        data-ar="قم بتبسيط عمليات منشأتك الصحية، وأدر الموظفين، وحسن خدمات المرضى من خلال منصتنا الشاملة.">
                        Streamline your healthcare facility operations, manage staff, and enhance patient services with
                        our comprehensive platform.</span>
                </p>
                <div class="feature-list">
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Doctor & staff management" data-ar="إدارة الأطباء والموظفين">Doctor & staff
                                management</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Centralized appointment system" data-ar="نظام مواعيد مركزي">Centralized
                                appointment system</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Billing & financial reports" data-ar="فواتير وتقارير مالية">Billing &
                                financial reports</span></span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check feature-icon"></i>
                        <span><span data-en="Inventory & resource tracking" data-ar="تتبع المخزون والموارد">Inventory &
                                resource tracking</span></span>
                    </div>
                </div>
                <button class="card-button card-button-hospital">
                    <span class="card-button-text"><span data-en="Register Hospital" data-ar="تسجيل مستشفى">Register
                            Hospital</span></span>
                    <i class="fas fa-arrow-right card-button-icon"></i>
                </button>
            </div>
        </div>

        <div class="auth-footer" style="margin-top: 3rem;">
            <p><span data-en="Already have an account?" data-ar="هل لديك حساب بالفعل؟">Already have an account?</span>
                <a class="auth-link" asp-action="Login"><span data-en="Sign In" data-ar="تسجيل الدخول">Sign
                        In</span></a></p>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Add click handlers to cards for better accessibility
        const cards = document.querySelectorAll('.registration-type-card');

        cards.forEach(card => {
            // Remove inline onclick for better separation
            const link = card.getAttribute('onclick');
            if (link) {
                const url = link.match(/location\.href='([^']+)'/)[1];
                card.removeAttribute('onclick');

                card.addEventListener('click', function (e) {
                    // Don't navigate if clicking on the button
                    if (!e.target.closest('.card-button')) {
                        window.location.href = url;
                    }
                });

                // Make the button work
                const button = card.querySelector('.card-button');
                if (button) {
                    button.addEventListener('click', function (e) {
                        e.stopPropagation();
                        window.location.href = url;
                    });
                }
            }

            // Add keyboard navigation
            card.setAttribute('tabindex', '0');
            card.addEventListener('keydown', function (e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const url = card.querySelector('.card-button')?.dataset.url ||
                        card.getAttribute('data-url');
                    if (url) {
                        window.location.href = url;
                    }
                }
            });
        });
    });
</script>

<style>
    /* Remove the inline style and use CSS instead */
    .auth-footer[style*="margin-top: 2rem;"] {
        margin-top: 3rem !important;
    }

    /* Ensure cards have proper focus states for accessibility */
    .registration-type-card:focus {
        outline: 2px solid #3b82f6;
        outline-offset: 2px;
    }

    /* Smooth transition for all interactive elements */
    .registration-type-card,
    .card-button,
    .registration-icon {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .card-button {
        width: 100%;
        padding: 1rem 1.5rem;
        border-radius: 0.75rem;
        background: linear-gradient(to right, #3b82f6, #10b981);
        color: white;
        font-weight: 600;
        border: none;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        margin-bottom: 2rem;
    }

    .card-button:hover {
        background: linear-gradient(to right, #2563eb, #059669);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
    }
</style>