@model Serena.BLL.Models.Home.HomeIndexViewModel
@{
    ViewData["Title"] = "Serena - Next-Generation Healthcare";
}

@section Styles {
    <link rel="stylesheet" href="~/css/index.css">
}

<section class="hero">
    <div class="hero-background">
        <div class="hero-orbs">
            <div class="hero-orb"></div>
            <div class="hero-orb"></div>
            <div class="hero-orb"></div>
        </div>
    </div>

    <div class="hero-container">
        <div class="hero-grid">
            <div class="hero-content">
                <div class="hero-badge">
                    ✨ Powered by AI & Advanced Technology
                </div>
                <h1 class="hero-title">
                    Next-Generation Healthcare Management
                </h1>
                <p class="hero-subtitle">
                    Serena connects and manages multiple hospitals under one unified ecosystem, providing advanced healthcare technology for patients, doctors, and administrators.
                </p>

                <div class="hero-actions">
                    <a asp-controller="Appointment" asp-action="Create" class="hero-btn hero-btn-primary">
                        <span>Book Appointment</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                    <a asp-controller="Doctor" asp-action="Index" class="hero-btn hero-btn-secondary">
                        <i class="fas fa-play"></i>
                        <span>Explore Platform</span>
                    </a>
                </div>

                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-stat-value">@Model.TotalHospitals+</div>
                        <div class="hero-stat-label">Hospitals</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-value">@Model.TotalDoctors+</div>
                        <div class="hero-stat-label">Doctors</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-value">@Model.TotalPatients+</div>
                        <div class="hero-stat-label">Patients</div>
                    </div>
                </div>
            </div>

            <div class="hero-visual">
                <div class="hero-image-container">
                    <img src="https://images.unsplash.com/photo-1631563020941-c0c6bc534b8e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpY2FsJTIwdGVjaG5vbG9neSUyMGZ1dHVyaXN0aWN8ZW58MXx8fHwxNzYwOTc3NzU1fDA&ixlib=rb-4.1.0&q=80&w=1080"
                         alt="Medical Technology" class="hero-image">
                    <div class="hero-image-overlay"></div>
                </div>

                <div class="hero-floating-card floating-card-1">
                    <div class="floating-card-content">
                        <div class="floating-card-icon">❤️</div>
                        <div class="floating-card-text">
                            <div class="floating-card-label">Health Score</div>
                            <div class="floating-card-value">@Model.HealthScore%</div>
                        </div>
                    </div>
                </div>

                <div class="hero-floating-card floating-card-2">
                    <div class="floating-card-content">
                        <div class="floating-card-icon">🏥</div>
                        <div class="floating-card-text">
                            <div class="floating-card-label">Appointments</div>
                            <div class="floating-card-value">@Model.TodayAppointments Today</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="hero-scroll-indicator">
        <div class="scroll-indicator">
            <div class="scroll-dot"></div>
        </div>
    </div>
</section>

<section class="partners">
    <div class="partners-track">
    </div>
</section>

<section class="services">
    <div class="container">
        <h2 class="section-title">Our Services</h2>
        <p class="section-subtitle">
            Comprehensive healthcare solutions for patients, doctors, and hospitals
        </p>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-hospital"></i>
                </div>
                <h3 class="service-title">Hospital Management</h3>
                <p class="service-description">
                    Streamline hospital operations with our comprehensive management system.
                </p>
            </div>

            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-user-md"></i>
                </div>
                <h3 class="service-title">Doctor Portal</h3>
                <p class="service-description">
                    Manage appointments, patients, and medical records efficiently.
                </p>
            </div>

            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-user-injured"></i>
                </div>
                <h3 class="service-title">Patient Portal</h3>
                <p class="service-description">
                    Book appointments, access medical records, and connect with doctors.
                </p>
            </div>

            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-prescription-bottle-alt"></i>
                </div>
                <h3 class="service-title">Pharmacy Integration</h3>
                <p class="service-description">
                    Seamlessly connect with pharmacies for prescription management.
                </p>
            </div>

            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-file-medical"></i>
                </div>
                <h3 class="service-title">Medical Records</h3>
                <p class="service-description">
                    Secure and accessible digital medical records for patients and providers.
                </p>
            </div>

            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-ambulance"></i>
                </div>
                <h3 class="service-title">Emergency Services</h3>
                <p class="service-description">
                    Quick access to emergency care and ambulance services.
                </p>
            </div>
        </div>
    </div>
</section>

<section class="features">
    <div class="features-background">
        <div class="features-orb"></div>
        <div class="features-orb"></div>
    </div>

    <div class="container features-container">
        <div class="text-center mb-12">
            <div class="features-badge">
                ✨ Why Choose Serena
            </div>
            <h2 class="section-title">
                Advanced Technology for Healthcare
            </h2>
            <p class="section-subtitle">
                We combine innovation and care to deliver an unparalleled healthcare experience
            </p>
        </div>

        <div class="features-grid">
        </div>
    </div>
</section>

<section class="hospitals">
    <div class="container">
        <div class="text-center mb-12">
            <h2 class="section-title">Top Hospitals</h2>
            <p class="section-subtitle">Discover the best hospitals in our network</p>
        </div>

        <div class="hospitals-grid" id="hospitalsGrid">
            @if (Model.TopHospitals.Any())
            {
                foreach (var hospital in Model.TopHospitals)
                {
                    <div class="hospital-card">
                        <div class="hospital-card-header">
                            <i class="fas fa-hospital hospital-icon"></i>
                        </div>
                        <div class="hospital-card-body">
                            <h3 class="hospital-name">@hospital.Name</h3>
                            <div class="hospital-rank">@hospital.Rank</div>
                            <div class="hospital-info">
                                <div class="hospital-cost">
                                    Average Cost: $@hospital.AverageCost.ToString("N2")
                                    <span>per visit</span>
                                </div>
                                <div class="hospital-phone">
                                    <i class="fas fa-phone"></i> @hospital.HospitalPhone
                                </div>
                                @if (!string.IsNullOrEmpty(hospital.EmergencyPhone))
                                {
                                    <div class="hospital-phone">
                                        <i class="fas fa-ambulance"></i> @hospital.EmergencyPhone
                                    </div>
                                }
                            </div>
                            @if (hospital.Addresses != null && hospital.Addresses.Any())
                            {
                                <div class="hospital-addresses">
                                    <span class="address-count">
                                        @hospital.Addresses.Count location@(hospital.Addresses.Count != 1 ? "s" : "")
                                    </span>
                                </div>
                            }
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="no-data">
                    <i class="fas fa-hospital fa-3x"></i>
                    <p>No hospitals available yet. Be the first to add one!</p>
                </div>
            }
        </div>

        <div class="text-center">
            <a asp-controller="Hospital" asp-action="Index" class="view-all-btn">
                <span>View All Hospitals</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>

<section class="doctors">
    <div class="container">
        <div class="text-center mb-12">
            <h2 class="section-title">Top Doctors</h2>
            <p class="section-subtitle">Meet our highly qualified medical professionals</p>
        </div>

        <div class="doctors-grid" id="doctorsGrid">
            @if (Model.TopDoctors.Any())
            {
                foreach (var doctor in Model.TopDoctors)
                {
                    <div class="doctor-card-new"> @* تم تغيير الكلاس هنا لتطبيق الستايل الجديد *@
                        <div class="doctor-card-header-new">
                            @* في التصميم المطلوب، يتم وضع الصورة أو الرسوم التوضيحية المميزة هنا *@
                            @if (!string.IsNullOrEmpty(doctor.Image))
                            {
                                <img src="~/files/Imgs/@doctor.Image" alt="@doctor.FirstName @doctor.LastName" class="doctor-image-new">
                            }
                            else
                            {
                                @* Placeholder images for design aesthetic (Image of X) *@
                                @if (doctor.Id % 3 == 1) 
                                {
                                    
                                }
                                else if (doctor.Id % 3 == 2)
                                {
    

                                }
                                else
                                {
                                    <div class="doctor-placeholder-icon">
                                        <i class="fas fa-user-md fa-4x"></i>
                                    </div>
                                }
                            }
                        </div>

                        <div class="doctor-card-body-new">
                            <div class="available-status">
                                <i class="fas fa-circle available-dot"></i> Available
                            </div>
                            <h3 class="doctor-name">Dr. @doctor.FirstName @doctor.LastName</h3>
                            <p class="doctor-specialization">@doctor.Specialization</p>

                            <div class="doctor-meta-new">
                                <div class="doctor-experience">
                                    <i class="fas fa-briefcase"></i>
                                    <span>@doctor.YearsOfExperience years experience</span>
                                </div>
                            </div>

                            <div class="doctor-actions-new">
                                <a asp-controller="Doctor" asp-action="Details" asp-route-id="@doctor.Id" class="view-profile-link-new">
                                    <i class="fas fa-info-circle"></i> View Profile
                                </a>
                                <a asp-controller="Appointment" asp-action="Create" asp-route-doctorId="@doctor.Id" class="book-now-link-new">
                                    <i class="fas fa-calendar-alt"></i> Book Now
                                </a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="no-data">
                    <i class="fas fa-user-md fa-3x"></i>
                    <p>No doctors available yet. Be the first to register!</p>
                </div>
            }
        </div>

        <div class="text-center">
            <a asp-controller="Doctor" asp-action="Index" class="view-all-btn">
                <span>View All Doctors</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>

@* --- CSS Styles for the New Doctor Card Design (Should ideally be in index.css) --- *@
<style>
    /* New Doctor Card Container */
    .doctor-card-new {
        background-color: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s ease-in-out;
        border: 1px solid #eee; /* Added border for definition */
    }

    .doctor-card-new:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    }

    /* Doctor Card Header - For the Image/Placeholder */
    .doctor-card-header-new {
        height: 150px; /* Fixed height for image area */
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f7f7f7;
        position: relative;
    }

    /* Styling for the image placeholder if doctor.Image is null, matching the image in the request */
    .doctor-placeholder-icon {
        color: #007bff; /* Primary color */
    }
    
    .doctor-image-new {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Doctor Card Body */
    .doctor-card-body-new {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .available-status {
        font-size: 14px;
        font-weight: 600;
        color: #28a745; /* Green color for available */
        margin-bottom: 8px;
        display: flex;
        align-items: center;
    }

    .available-dot {
        font-size: 10px;
        color: #28a745;
        margin-right: 5px;
    }

    .doctor-name {
        font-size: 18px;
        color: #333;
        margin: 0 0 4px 0;
    }

    .doctor-specialization {
        color: #6c757d;
        font-size: 14px;
        margin-bottom: 15px;
    }

    /* Doctor Meta (Rank & Experience) */
    .doctor-meta-new {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 20px;
        border-top: 1px solid #eee;
        padding-top: 15px;
    }

    .doctor-rank,
    .doctor-experience {
        display: flex;
        align-items: center;
        font-size: 14px;
        color: #555;
    }

    .rank-star,
    .fa-briefcase {
        color: #ffc107; /* Star color */
        margin-right: 8px;
    }

    /* Doctor Actions (View & Book) */
    .doctor-actions-new {
        display: flex;
        justify-content: space-between;
        margin-top: auto; /* Push to the bottom */
    }

    .view-profile-link-new,
    .book-now-link-new {
        text-decoration: none;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        transition: background-color 0.3s, color 0.3s;
        display: flex;
        align-items: center;
        gap: 5px;
        flex-grow: 1;
        justify-content: center;
    }

    .view-profile-link-new {
        color: #007bff;
        border: 1px solid #007bff;
        background-color: #fff;
        margin-right: 5px;
    }

    .view-profile-link-new:hover {
        background-color: #f2f7ff;
    }

    .book-now-link-new {
        background-color: #007bff;
        color: white;
        border: 1px solid #007bff;
        margin-left: 5px;
    }

    .book-now-link-new:hover {
        background-color: #0056b3;
    }

    /* Ensure doctors grid is correct */
    .doctors-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }
</style>