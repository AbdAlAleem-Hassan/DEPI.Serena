@model Serena.BLL.Models.Doctors.DoctorDetailsDTO

<div class="doctor-card">

    <!-- COL 1: Identity (Image + Name + Hospital) -->
    <!-- Grid: display: contents (Children split) -->
    <!-- List: display: flex (Children grouped) -->
    <div class="doctor-identity">
        <div class="card-img-wrapper">
             @if (!string.IsNullOrEmpty(Model.Image))
            {
                <img src="@Model.Image" alt="@Model.FirstName" class="card-img">
            }
            else
            {
                 <i class="fas fa-user-md" style="font-size: 2rem; color: #475569;"></i>
            }
            
            <div class="rating-badge grid-only"
                style="position: absolute; top: 1rem; right: 1rem; background: rgba(0,0,0,0.6); color: #F59E0B; padding: 4px 8px; border-radius: 6px; font-weight: 700; backdrop-filter: blur(4px);">
                <i class="fas fa-star"></i> 4.6
            </div>
        </div>

        <!-- Name & Loc Text -->
        <!-- Grid: Padded block (below image) -->
        <!-- List: Flex item (right of image) -->
        <div class="doctor-info-text">
            <h3 class="doctor-name">Dr. @Model.FirstName @Model.LastName</h3>
            
            <!-- Grid: Hospital Line -->
            <div class="doctor-hospital grid-only">
                <i class="fas fa-hospital"></i> <span>@(Model.Hospital ?? "Main Hospital"), @(Model.City ?? "Cairo")</span>
            </div>
            
            <!-- List: Location Line -->
             <div class="hospital-loc list-only">
                 <i class="fas fa-map-marker-alt"></i> @(Model.City ?? "Cairo")
             </div>
        </div>
    </div>

    <!-- WRAPPER FOR REMAINING CELLS (Flattened in List Mode via CSS) -->
    <div class="card-content">
        
        <!-- COL 2: Specialty -->
        <div class="list-cell">
            <span class="badge-specialty">@Model.Specialization</span>
            <!-- Grid view extra info -->
            <span class="doctor-specialty grid-only" style="margin-top:0.5rem">@Model.SubSpecialization</span>
        </div>

        <!-- COL 3: Rating -->
        <div class="list-cell rating-cell list-only">
            <i class="fas fa-star"></i> 4.6 <span style="color:#64748B; font-weight:400; font-size:0.8rem">(156)</span>
        </div>

        <!-- COL 4: Experience -->
        <div class="list-cell">
            @Model.YearsOfExperience+ Years
        </div>

        <!-- COL 5: Fee -->
        <div class="list-cell list-only" style="font-weight: 700; color: #10B981;">
            $280
        </div>

        <!-- COL 6: Available -->
        <div class="list-cell list-only">
             <span style="color: #34D399; font-weight: 600;">Yes</span>
        </div>

        <!-- Grid Only: Stats Row -->
        <div class="grid-stats-row grid-only">
             <div class="grid-stat">
                <h4>@Model.YearsOfExperience+</h4>
                <span>Years Exp.</span>
            </div>
             <div class="grid-stat">
                <h4>4.6</h4>
                <span>Rating</span>
            </div>
            <div class="grid-stat">
                <h4>2100+</h4>
                <span>Patients</span>
            </div>
        </div>

        <!-- COL 7: Actions -->
        <div class="card-actions-row">
            <a href="@Url.Action("Schedule", "Doctor", new { doctorId = Model.Id })" class="btn-primary-card">
                <i class="fas fa-calendar-alt"></i>
                <span>Book</span>
            </a>

            <a href="@Url.Action("Details", "Doctor", new { id = Model.Id })" class="btn-icon-card grid-only"
                style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem; border-radius: 6px; width: auto; background: linear-gradient(to right, #6366f1, #a855f7); color: white;">
                <i class="fas fa-user"></i>
                <span>View</span>
            </a>
            
             <a href="@Url.Action("Details", "Doctor", new { id = Model.Id })" class="btn-icon-card list-only">
                <i class="fas fa-user"></i>
            </a>
        </div>
    </div>
</div>