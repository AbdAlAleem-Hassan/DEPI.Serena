@model Serena.BLL.Models.Doctors.DoctorDetailsDTO

@{
    var fullName = $"Dr. {Model.FirstName} {Model.LastName}";
    var location = $"{Model.City ?? "Cairo"}, {Model.Country ?? "Egypt"}";
    var hospitalName = Model.Hospital ?? "Serena Hospital";
}

<a href="@Url.Action("DoctorProfile", "Doctor", new { id = Model.Id })" class="doctor-card-link">
    <div class="doctor-card">

        <!-- ============================================= -->
        <!-- GRID VIEW CONTENT -->
        <!-- ============================================= -->
        <div class="doctor-card-header grid-only">
            <!-- Background Image Area -->
            <div class="doctor-image-wrapper">
                @if (!string.IsNullOrEmpty(Model.ImageUrl))
                {
                    <img src="~/files/Imgs/@Model.ImageUrl" alt="@fullName" class="doctor-image">
                }
                else
                {
                    <div class="doctor-initials">
                        @Model.FirstName?.FirstOrDefault()@Model.LastName?.FirstOrDefault()
                    </div>
                }
            </div>
        </div>

        <div class="doctor-card-body grid-only">
            <h3 class="doctor-name">@fullName</h3>
            <span class="doctor-specialty">@Model.Specialization</span>

            <div class="doctor-stats-row">
                <div class="stat-item">
                    <span class="stat-value">@Model.YearsOfExperience+</span>
                    <span class="stat-label">Years Exp</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">4.6</span>
                    <span class="stat-label">Rating</span>
                </div>
                @* <div class="stat-item">
                    <span class="stat-value">$280</span>
                    <span class="stat-label">Fee</span>
                </div> *@
            </div>

            <div class="card-actions-row">
                <button class="btn-primary-card" style="width:100%; justify-content: center;">
                    <i class="fas fa-calendar-check"></i> Book Now
                </button>
            </div>
        </div>


        <!-- ============================================= -->
        <!-- LIST VIEW CONTENT (Table Cells) -->
        <!-- ============================================= -->

        <!-- Col 1: Identity -->
        <div class="list-cell identity-cell list-only">
            <div class="list-img-thumb"
                style="overflow:hidden; display:flex; align-items:center; justify-content:center; background:#f1f5f9;">
                @if (!string.IsNullOrEmpty(Model.ImageUrl))
                {
                    <img src="~/files/Imgs/@Model.ImageUrl" style="width:100%; height:100%; object-fit:cover;" alt="@fullName">
                }
                else
                {
                    <span style="font-weight:700; color:#64748B;">
                        @Model.FirstName?.FirstOrDefault()@Model.LastName?.FirstOrDefault()
                    </span>
                }
            </div>
            <div>
                <h3 class="doctor-name" style="margin:0; font-size:0.95rem;">@fullName</h3>
                <span style="font-size:0.75rem; color:#64748B;">@hospitalName</span>
            </div>
        </div>

        <!-- Col 2: Specialty -->
        <div class="list-cell list-only">
            <span class="badge-specialty">@Model.Specialization</span>
        </div>

        <!-- Col 3: Rating -->
        <div class="list-cell rating-cell list-only">
            <i class="fas fa-star"></i> 4.6 <span style="font-weight:400; color:#94A3B8; font-size:0.75rem">(156)</span>
        </div>

        <!-- Col 4: Experience -->
        <div class="list-cell list-only">
            @Model.YearsOfExperience+ Years
        </div>

        <!-- Col 5: Fee -->
        <div class="list-cell list-only" style="font-weight: 700; color: #10B981;">
            $280
        </div>

        <!-- Col 6: Available -->
        <div class="list-cell list-only">
            <span style="color: #34D399; font-weight: 600;">Yes</span>
        </div>

        <!-- Col 7: Actions -->
        <div class="list-cell actions-cell list-only">
            <span class="btn-primary-card" style="padding: 0.4rem 0.8rem; font-size: 0.75rem;">
                View
            </span>
        </div>
    </div>
</a>